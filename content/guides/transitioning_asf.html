<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Initial Code Import</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">

    <!-- Le styles -->
    <link href="../css/incubator.css" rel="stylesheet">
    <link href="../css/bootstrap.css" rel="stylesheet">
    <link href="../css/asciidoctor.css" rel="stylesheet">
    <link href="../css/base.css" rel="stylesheet">
    <link href="../css/prettify.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="https://www.apache.org/favicon.ico">
  </head>
  <body onload="prettyPrint()">
    <div id="wrap">
   

	<!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://doris.incubator.apache.org"><i class="icon-home"></i>Apache Incubator</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Policies <b class="caret"></b></a>
              <ul class="dropdown-menu">
                
                  <li><a href="http://doris.incubator.apache.org/policy/incubation.html">Incubation Policy</a></li>
                
                  <li><a href="http://doris.incubator.apache.org/policy/process.html">Incubation Process</a></li>
                
                  <li><a href="http://doris.incubator.apache.org/policy/roles_and_responsibilities.html">Roles and Responsibilities</a></li>
                
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Proposals <b class="caret"></b></a>
              <ul class="dropdown-menu">
                
                <li><a href="http://doris.incubator.apache.org/guides/proposal.html">A Guide To Proposal Creation</a></li>
                
                <li><a href="http://doris.incubator.apache.org/guides/entry.html">Enter The Incubator</a></li>
                
                <li><a href="http://doris.incubator.apache.org/podling-story.html">The Story of a Podling</a></li>
                
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Podling Guides <b class="caret"></b></a>
              <ul class="dropdown-menu">
                
                  <li><a href="http://doris.incubator.apache.org/guides/branding.html">Incubator Branding Guide</a></li>
                
                  <li><a href="http://doris.incubator.apache.org/guides/ip_clearance.html">IP Clearance</a></li>
                
                  <li><a href="http://doris.incubator.apache.org/guides/press-kit.html">Podling Press Kit</a></li>
                
                  <li><a href="http://doris.incubator.apache.org/guides/transferring.html">Transferring Resources out of the Incubator</a></li>
                
                  <li><a href="http://doris.incubator.apache.org/guides/committer.html">Committers</a></li>
                
                  <li><a href="http://doris.incubator.apache.org/guides/names.html">Podling Name Search Guide</a></li>
                
                  <li><a href="http://doris.incubator.apache.org/guides/releasemanagement.html">Release Management</a></li>
                
                  <li><a href="http://doris.incubator.apache.org/guides/transitioning_asf.html">Initial Code Import</a></li>
                
                  <li><a href="http://doris.incubator.apache.org/guides/community.html">Guide to Successful Community Building</a></li>
                
                  <li><a href="http://doris.incubator.apache.org/guides/podling_sourcecontrol.html">Podling Source Control</a></li>
                
                  <li><a href="http://doris.incubator.apache.org/guides/retirement.html">Guide to Retirement</a></li>
                
                  <li><a href="http://doris.incubator.apache.org/guides/graduation.html">Guide to Successful Graduation</a></li>
                
                  <li><a href="http://doris.incubator.apache.org/guides/ppmc.html">Podling Project Management Committee</a></li>
                
                  <li><a href="http://doris.incubator.apache.org/guides/sites.html">Podling Websites</a></li>
                
                <li><a href="/clutch">Clutch Report</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">PMC Guides <b class="caret"></b></a>
              <ul class="dropdown-menu">
                
                <li><a href="http://doris.incubator.apache.org/guides/chair.html">Incubator Chair Guide</a></li>
                
                <li><a href="http://doris.incubator.apache.org/guides/pmc.html">The Incubator PMC</a></li>
                
                <li><a href="http://doris.incubator.apache.org/guides/lists.html">Incubator Mailing Lists Guide</a></li>
                
                <li><a href="http://doris.incubator.apache.org/guides/website.html">Updating the top-level Incubator website</a></li>
                
                <li><a href="http://doris.incubator.apache.org/guides/mentor.html">Mentors' Guide</a></li>
                
                <li><a href="http://doris.incubator.apache.org/guides/participation.html">Guide to Participation</a></li>
                
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">ASF <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="http://www.apache.org/foundation/how-it-works.html">How Apache Works</a></li>
                <li><a href="http://www.apache.org/dev/">Developer Documentation</a></li>
                <li><a href="http://www.apache.org/legal/">Legal</a></li>
                <li><a href="http://www.apache.org/foundation/">Foundation</a></li>
                <li><a href="http://www.apache.org/foundation/sponsorship.html">Sponsor Apache</a></li>
                <li><a href="http://www.apache.org/foundation/thanks.html">Thanks</a></li>
              </ul>
            </li>
            <li><a href="http://doris.incubator.apache.org/faq.html">FAQs</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-md-4 vcenter"><a href="https://www.apache.org/"><img src="http://www.apache.org/img/asf_logo.png" alt="The Apache Software Foundation" border="0" style="margin-top: 2px" width="250"></a></div>
          <div class="col-md-4 vcenter"><a href="/"><img src="https://incubator.apache.org/images/incubator_feather_egg_logo_sm.png" alt="The Apache Software Foundation Incubator" border="0" style="margin-top: 2px" height="100"></a></div>
          <div class="col-md-4 vcenter"><a href="https://www.apache.org/foundation/contributing.html"><img src="https://www.apache.org/images/SupportApache-small.png" height="75" width="75"></a></div>
      </div>
    </div>
    <div class="top-container container">

<div class="page-header">
    <h1>Guide :: Initial Code Import</h1>
</div>

<div class="article-body">

Estimated Reading Time: <span class="eta"></span>

<p><div id="toc" class="toc"> 
 <div id="toctitle">
  Table of Contents
 </div> 
 <ul class="sectlevel2"> 
  <li><a href="#importing_history">Importing History</a></li> 
  <li><a href="#audit_cryptography">Audit Cryptography</a></li> 
  <li><a href="#initial_clean_up">Initial Clean Up</a></li> 
  <li><a href="#clean_up_best_practice">Clean Up Best Practice</a></li> 
  <li><a href="#on_repackaging">On Repackaging</a></li> 
  <li><a href="#update_documents">Update Documents</a> 
   <ul class="sectlevel2"> 
    <li><a href="#update_build">Update Build</a></li> 
   </ul> </li> 
  <li><a href="#issue_tracking_transition">Issue Tracking Transition</a></li> 
 </ul> 
</div> 
<div id="preamble"> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>For corporate contributions, the SGA or CCLA MUST be completed, submitted and received before the code is imported.</p> 
  </div> 
  <div class="paragraph"> 
   <p>For contributions composed of patches from individual contributors, it is safe to import the code once the major contributors (by volume) have completed ICLAs or SGAs.</p> 
  </div> 
  <div class="paragraph"> 
   <p>In either case, the code to be imported should be attached to a JIRA and then imported. It is recommended that the previous version control system is tagged so that the imported version is precisely known.</p> 
  </div> 
  <div class="paragraph"> 
   <p>A public record MUST be made of the code imported. If the import is not attached to JIRA then it MUST be committed to version control.</p> 
  </div> 
 </div> 
</div> 
<div class="sect2"> 
 <h3 id="importing_history">Importing History</h3> 
 <div class="paragraph"> 
  <p>The incoming code can either be committed as a snapshot or as a complete version control export including history (provided that the import is available in a format readable by subversion). Importing with history allows existing open source projects who want to maintain older versions at Apache to easily perform source diffs and so on. Import just the latest code allows a clean break to be made with the past. The choice is left to the community of the incoming project.</p> 
 </div> 
 <div class="paragraph"> 
  <p>The infrastructure team will perform the import including mapping IDs but it is an operation that requires skill, time and care. In this case, please ask the infrastructure team politely.</p> 
 </div> 
 <div class="paragraph"> 
  <p>If you are importing from a github repository, you’ll need to add one of our infra staff members as an admin to perform a move.</p> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="audit_cryptography">Audit Cryptography</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>Before the code base is committed into an Apache repository, the contribution <a href="http://www.apache.org/dev/crypto.html">MUST</a> be checked and any restricted cryptography reported appropriately. Read and follow <a href="http://www.apache.org/dev/crypto.html">this guide</a>.</p> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="initial_clean_up">Initial Clean Up</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>Once a JIRA has been created, the source should be cleaned up.</p> 
  </div> 
  <div class="ulist"> 
   <ul> 
    <li> <p>Ensure source files use the standard Apache boilerplates. This may mean replacing existing license headers. The tools in <a href="https://svn.apache.org/repos/private/committers/tools">private/committers/tools</a> and <a href="https://svn.apache.org/repos/private/committers/relicense">private/committers/relicense</a> may be useful.</p> </li> 
    <li> <p>Ensure that NOTICE and LICENSE documents are present and correct. Mentors should assist with this.</p> </li> 
    <li> <p>Add any required notices. Consider moving copyright attributions from source documents to the NOTICE. Read <a href="http://www.apache.org/legal/src-headers.html">Apache policy on headers</a>.</p> </li> 
    <li> <p>Audit the source for any potential licensing issues. Any which are found should either resolved immediately (when required) or noted in the status document for later.</p> </li> 
   </ul> 
  </div> 
  <div class="paragraph"> 
   <p>It is recommended that the initial clean up be is started before the code is committed. It MUST be completed before any releases are cut.</p> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="clean_up_best_practice">Clean Up Best Practice</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>It is recommended that version control is used to create a public record of the process. This will assist anyone auditing the code provenance (now or in the future) to easily perform due diligence without contacting the people who performed the clean up. The clean up process should therefore clearly document (using version control) the evolution of the IP licensing.</p> 
  </div> 
  <div class="paragraph"> 
   <p>Particular care needs to be taken with commit messages during clean up. The intended audience needs to include lawyers and code auditors. Members of the public need to be able to follow and understand the process from these messages alone.</p> 
  </div> 
  <div class="paragraph"> 
   <p>It is therefore recommended that the initial source is (after being expanded from the archive) checked in as is into a special directory (<strong>${project}/trunk/import</strong> is suggested). The original packaging, copyright statements and license notices should be preserved. A standard Apache LICENSE and appropriate NOTICE should be added at the top for the copyright for the collective work (see <a href="http://www.apache.org/legal/src-headers.html">policy</a>). Take particular care with this commit message. As with any patch that contains code which is not the original work of the committer, the JIRA url (for the artifact imported) needs to be included together with notes about the original copyright owner and any associated paperwork. The fact that this is a exact import including original headers should be noted to stop any queries about these foreign headers.</p> 
  </div> 
  <div class="paragraph"> 
   <p>The cleanup should then proceed in a number of commits. If the source provenance is complex, break the process up into a number of logical steps committing each in turn with a good message.</p> 
  </div> 
  <div class="paragraph"> 
   <p>In particular, take care when relocating copyright statements and license notices into the NOTICE in the root directory: consider moving each copyright owner individually so that it is easier to audit. (See <a href="http://www.apache.org/legal/src-headers.html#notice">policy</a>.)</p> 
  </div> 
  <div class="paragraph"> 
   <p>Once a section of code has been cleaned up (and <a href="#repackaging">repackaged</a>, if necessary) normal development can begin.</p> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="on_repackaging">On Repackaging</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>It is recommended - but not mandated - that source is repackaged under the Apache namespace. There is no need to use the incubator namespace. For example, Java source might be repackaged to <strong>org.apache.foo.Bar</strong> or a DTD to <strong><a href="http://podling.apache.org/foo/bar" class="bare">http://podling.apache.org/foo/bar</a></strong>.</p> 
  </div> 
  <div class="paragraph"> 
   <p>Existing open source projects moving to Apache may well need to consider carefully how they will approach this transition.</p> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="update_documents">Update Documents</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>Check the documentation for references to the old home of the project and update them with references to Apache.</p> 
  </div> 
  <div class="paragraph"> 
   <p>Read <a href="http://incubator.apache.org/guides/branding.html">Branding Guide</a>. Ensure that appropriate disclaimers are added to the appropriate documentation. Consider adding a <strong>DISCLAIMER</strong> text document.</p> 
  </div> 
  <div class="sect2"> 
   <h3 id="update_build">Update Build</h3> 
   <div class="paragraph"> 
    <p>If the project uses <a href="http://maven.apache.org">Apache Maven</a>, the pom will need to be updated to reflect that the project is now at Apache. In particular: - Update <strong>mailingLists</strong> - Update <strong>organization</strong> - Update <strong>url</strong> - Update <strong>issueManagement</strong> - Check <strong>licenses</strong> - Update <strong>scm</strong> - Update <strong>groupId</strong> - Update <strong>manifestEntries</strong>. It is recommended that the standard Apache settings are used - Update <strong>developers</strong> to use apache IDs (when known) - Update <strong>distributionManagement</strong> - Consider specifying a <a href="http://maven.apache.org/pom.html#relocation">relocation</a></p> 
   </div> 
   <div class="paragraph"> 
    <p>If the project uses <a href="http://ant.apache.org">Apache Ant</a>, the build script will probably need to be updated. In particular: - Ensure any MANIFESTs generated refer to Apache. It is recommended that the standard Apache settings are used. - Check that <strong>LICENSE</strong>, <strong>NOTICE</strong> and - if appropriate - <strong>DISCLAIMER</strong> documents are copied into binary artifacts</p> 
   </div> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="issue_tracking_transition">Issue Tracking Transition</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>Issues for Apache projects should be tracked on Apache hardware. Some projects arrive with existing issues tracking. So, in the end these need to be replaced (for new development at least) by the Apache issues tracker. Options need to be discussed publicly on list and a consensus reached about the best transition strategy.</p> 
  </div> 
 </div> 
</div></p>

</div>

		</div>
		<div id="push"></div>
    </div>
    
    <div id="footer">
      <div class="container">
          <p class="muted credit">&copy; 2017 The Apache Software Foundation | Licensed under the Apache License, Version 2.0.<br/>
          Apache Incubator, Apache, the Apache feather logo, and the Apache Incubator project logo are trademarks of The Apache Software Foundation.</p>
      </div>
    </div>

    <script src="../js/jquery-1.11.1.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/prettify.js"></script>
    <script src="../js/readingTime.js"></script>
    <script src="../js/incubator.js"></script>

  </body>
</html>
